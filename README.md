# Criando um Pipeline de Deploy com GitLab e Kubernetes

Esse script cria um <b>arquivo de manifesto</b> YAML para definir os recursos <b>Kubernetes</b>, com <i>implantações (deployments)</i>, <i>serviços (services)</i> e <i>ingressos (ingress)</i>. Ele também define as etapas do <i>pipeline de deploy</i>, incluindo a <b>construção do contêiner Docker</b>, o teste do contêiner e o deploy para o cluster <b>Kubernetes</b>. Além disso, o script <b>configura as variáveis de ambiente necessárias</b>, como as credenciais do provedor de nuvem e as informações do cluster Kubernetes.

O manifesto YAML define um deployment chamado "<b>meu-app</b>" com 3 réplicas, um serviço chamado "<b>meu-app-service</b>" com um <b>balanceador de carga (LoadBalancer)</b> que escuta na <i>porta 80</i> e encaminha para a <i>porta 8080</i> do <b>container</b>, e um ingress chamado "<i>meu-app-ingress</i>" que encaminha solicitações para o serviço "<b>meu-app-service</b>". O arquivo também especifica a etapa de build, que constrói a imagem <b>Docker</b> e a etapa de teste, que <i>executa testes</i> no container. A etapa de deploy usa o <b>kubectl</b> para implantar o <b>arquivo YAML</b> criado anteriormente no <b>cluster Kubernetes</b>. As variáveis de ambiente especificadas incluem as <i>credenciais do provedor</i> de nuvem e as informações do <b>cluster Kubernetes</b>.